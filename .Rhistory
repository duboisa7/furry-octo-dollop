install.packages("pdftools")
install.packages("Rtools")
knitr::opts_chunk$set(echo = TRUE)
library(pdftools)
library(tidyverse)
library(lubridate)
PDF1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
readr::read_lines()
View(PDF1)
PDF2 <- pdf_text("PDFs/Du_et_al_2011_Volatile_Composition_of_Four_Southern_Highbush_Blueberry_Cultivars_and_Effect_of_Growing_Location_and_Harv.pdf") %>%
readr::read_lines()
problems()
PDF2 <- pdf_text("PDFs/Du_et_al_2011_Volatile_Composition_of_Four_Southern_Highbush_Blueberry_Cultivars_and_Effect_of_Growing_Location_and_Harv.pdf") %>%
readr::read_lines()%>%
problems()
View(PDF2)
View(PDF2)
PDF2 <- pdf_text("PDFs/Du_et_al_2011_Volatile_Composition_of_Four_Southern_Highbush_Blueberry_Cultivars_and_Effect_of_Growing_Location_and_Harv.pdf") %>%
readr::read_lines()
View(PDF2)
install.packages("tcltk2")
PDE_install_Xpdftools4.02()    # Download and install the Xpdf command line tools
PDE_check_Xpdf_install()        # Check if all required XPDF tools are installed correctly
install.packages("PDE", dependencies = TRUE)
PDE_install_Xpdftools4.02()
PDE_check_Xpdf_install()
library("PDE")
PDF1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
PDF1
View(PDF1)
PDF1
PDF2
PDF2
pdf1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
readr::read_lines()
pdf1
pdf1v2 <- strsplit(pdf1, "\n")
install.packages("tm")
library(tm)
read <- readPDF(control = list(text = "-layout"))
pdf2<- Corpus(URISource("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf"), readControl = list(reader = read))
read <- readPDF(control = list(text = "-layout"))
pdf2<- Corpus(URISource("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf"), readerControl = list(reader = read))
doc <- content(document[[1]])
doc <- content(pdf2[[1]])
head(doc)
page_breaks <- grep("\\f", doc)
doc[page_breaks[1]]
install.packages("kableExtra")
library(kableExtra)
pdf3 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame()
View(pdf3)
View(pdf3)
t1 <- pdf3 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame()
t1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame()
#first page text
cat(txt[1])
#first page text
cat(t1[1])
t1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines()
#first page text
page1 <- cat(t1[1])
t1
t1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
t1
#first page text
page1 <- cat(t1[1])
t1
raw1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
#%>%  read_lines()
#%>%  data.frame()
raw1
#first page text
page1 <- cat(raw1[1])
remove(t1)
page1
#first page text
cat(raw1[1])
info <- pdf_info("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
View(info)
#first page text
page1 <- capture.output(cat(raw1[1]), fill = TRUE)
page1
raw1
%>%  data.frame()
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%    read_lines() %>%
data.frame()
View(raw2)
View(raw2)
#testing
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "Tables and Figures",
str_detect(raw2, "^Figure ") ~ "Tables and Figures",
str_dtect(raw2, "METHODS$") ~ "Materials and Methods",
str_detect(raw2, "Methods$") ~ "Materials and Methods")) %>%
fill(Section ID)
#testing
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "Tables and Figures",
str_detect(raw2, "^Figure ") ~ "Tables and Figures",
str_dtect(raw2, "METHODS$") ~ "Materials and Methods",
str_detect(raw2, "Methods$") ~ "Materials and Methods")) %>%
fill(Section ID)
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "Tables and Figures",
str_detect(raw2, "^Figure ") ~ "Tables and Figures",
str_dtect(raw2, "METHODS$") ~ "Materials and Methods",
str_detect(raw2, "Methods$") ~ "Materials and Methods"))
#testing
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "Tables and Figures",
str_detect(raw2, "^Figure ") ~ "Tables and Figures",
str_detect(raw2, "METHODS$") ~ "Materials and Methods",
str_detect(raw2, "Methods$") ~ "Materials and Methods")) %>%
fill(Section ID)
#testing
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "TablesFigures",
str_detect(raw2, "^Figure ") ~ "TablesFigures",
str_detect(raw2, "METHODS$") ~ "MaterialsMethods",
str_detect(raw2, "Methods$") ~ "MaterialsMethods",
str_detect(raw2, "Results$") ~ "Results$")) %>%
fill(Section ID)
#testing
wip <- raw2 %>%
mutate(SectionID =
case_when(
str_detect(raw2, "^Table ") ~ "TablesFigures",
str_detect(raw2, "^Figure ") ~ "TablesFigures",
str_detect(raw2, "METHODS$") ~ "MaterialsMethods",
str_detect(raw2, "Methods$") ~ "MaterialsMethods",
str_detect(raw2, "Results$") ~ "Results")) %>%
fill(Section ID)
raw <- "PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf"
raw <- "PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf"
raw2 <- pdf_text(raw) %>%
read_lines() %>%
data.frame()
#first page text
page1 <- capture.output(cat(raw[1]), fill = TRUE)
page1
#first page text
page1 <- capture.output(cat(raw2[1]), fill = TRUE)
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame()
raw1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
#first page text
page1 <- capture.output(cat(raw1[1]), fill = TRUE)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results")) %>%
fill(Section ID)
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results"))
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results",
TRUE ~ "NA")) %>%
fill(Section ID)
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results",
TRUE ~ "NA"))
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame() %>%
rename(rawline = 1)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results",
TRUE ~ "NA")) %>%
fill(Section ID)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(raw1, "^Table ") ~ "TablesFigures",
str_detect(raw1, "^Figure ") ~ "TablesFigures",
str_detect(raw1, "METHODS$") ~ "MaterialsMethods",
str_detect(raw1, "Methods$") ~ "MaterialsMethods",
str_detect(raw1, "Results$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
raw1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
#%>%  read_lines()
#%>%  data.frame()
raw1
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame() %>%
rename(rawline = 1)
#first page text
page1 <- capture.output(cat(raw1[1]), fill = TRUE)
page1
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(rawline, "^Table ") ~ "TablesFigures",
str_detect(rawline, "^Figure ") ~ "TablesFigures",
str_detect(rawline, "METHODS$") ~ "MaterialsMethods",
str_detect(rawline, "Methods$") ~ "MaterialsMethods",
str_detect(rawline, "Results$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
View(wip)
View(wip)
r <- raw2 %>%
as_tibble(text = text)
r
r <- raw2 %>%
as_tibble(text = text) %>%
unnest_tokens(word, text)
library(tidytext)
install.packages("tidytext")
library(tidytext)
r <- raw2 %>%
as_tibble(text = text) %>%
unnest_tokens(word, text)
r <- raw2 %>%
as_tibble(text = text)
r %>%
unnest_tokens(word, text)
View(r)
View(r)
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame() %>%
rename(text = 1)
r <- raw2 %>%
as_tibble(text = text)
r %>%
unnest_tokens(word, text)
View(r)
View(r)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(text, "^Table ") ~ "TablesFigures",
str_detect(text, "^Fig. ") ~ "TablesFigures",
str_detect(text, "^Figure ") ~ "TablesFigures",
str_detect(text, "METHODS$") ~ "MaterialsMethods",
str_detect(text, "Materials and methods$") ~ "MaterialsMethods",
str_detect(text, "Methods and materials$") ~ "MaterialsMethods",
str_detect(text, "Results$") ~ "Results",
str_detect(text, "Results and discussion$") ~ "Results",
str_detect(text, "Results and discussions$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
test <- raw1 %>%
str_split("\n")
test
page1
directory <- "/PDFs"
file.list <- past(directory, "/", list.files(directory, pattern = "*.pdf"), sep = "")
file.list <- paste(directory, "/", list.files(directory, pattern = "*.pdf"), sep = "")
directory <- "/PDFs"
file.list <- paste(directory, "/", list.files(directory, pattern = "*.pdf"), sep = "")
lapply(file.list, FUN = function(files) {
pdf_convert(files, format = "jpeg")
})
directory <- "C:\Users\duboisa7\Documents\GitKraken\BB\Blueberry\PDFs"
directory <- "C:/Users/duboisa7/Documents/GitKraken/BB/Blueberry/PDFs"
file.list <- paste(directory, "/", list.files(directory, pattern = "*.pdf"), sep = "")
lapply(file.list, FUN = function(files) {
pdf_convert(files, format = "jpeg")
})
data_frame()
tibble()
directory <- "C:/Users/duboisa7/Documents/GitKraken/BB/Blueberry/PDFs"
file.list <- paste(directory, "/", list.files(directory, pattern = "*.pdf"), sep = "")
lapply(file.list, FUN = function(files) {
tibble()
})
raw1 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf")
raw2 <- pdf_text("PDFs/Sater_et_al_2020_A_Review_of_the_Fruit_Volatiles_Found_in_Blueberry_and_Other_Vaccinium_Species.pdf") %>%
read_lines() %>%
data.frame() %>%
rename(text = 1)
#first page text
page1 <- capture.output(cat(raw1[1]), fill = TRUE)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(text, "^Table ") ~ "TablesFigures",
str_detect(text, "^Fig. ") ~ "TablesFigures",
str_detect(text, "^Figure ") ~ "TablesFigures",
str_detect(text, "METHODS$") ~ "MaterialsMethods",
str_detect(text, "Materials and methods$") ~ "MaterialsMethods",
str_detect(text, "Methods and materials$") ~ "MaterialsMethods",
str_detect(text, "Results$") ~ "Results",
str_detect(text, "Results and discussion$") ~ "Results",
str_detect(text, "Results and discussions$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
test <- raw1 %>%
str_split("\n")
View(wip)
View(wip)
raw1 <- pdf_text("PDFs/Qian_et_al_2022_Comparative_study_of_volatile_composition_of_major_Northern_Highbush_blueberry_Vaccinium_corymbosum_vari.pdf")
raw2 <- pdf_text("PDFs/Qian_et_al_2022_Comparative_study_of_volatile_composition_of_major_Northern_Highbush_blueberry_Vaccinium_corymbosum_vari.pdf") %>%
read_lines() %>%
data.frame() %>%
rename(text = 1)
#first page text
page1 <- capture.output(cat(raw1[1]), fill = TRUE)
#testing
wip <- raw2 %>%
mutate(SectionID = case_when(
str_detect(text, "^Table ") ~ "TablesFigures",
str_detect(text, "^Fig. ") ~ "TablesFigures",
str_detect(text, "^Figure ") ~ "TablesFigures",
str_detect(text, "METHODS$") ~ "MaterialsMethods",
str_detect(text, "Materials and methods$") ~ "MaterialsMethods",
str_detect(text, "Methods and materials$") ~ "MaterialsMethods",
str_detect(text, "Results$") ~ "Results",
str_detect(text, "Results and discussion$") ~ "Results",
str_detect(text, "Results and discussions$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
test <- raw1 %>%
str_split("\n")
#testing
df <- raw2 %>%
mutate(SectionID = case_when(
str_detect(text, "^Table ") ~ "TablesFigures",
str_detect(text, "^Fig. ") ~ "TablesFigures",
str_detect(text, "^Figure ") ~ "TablesFigures",
str_detect(text, "METHODS$") ~ "MaterialsMethods",
str_detect(text, "Materials and methods$") ~ "MaterialsMethods",
str_detect(text, "Methods and materials$") ~ "MaterialsMethods",
str_detect(text, "Results$") ~ "Results",
str_detect(text, "Results and discussion$") ~ "Results",
str_detect(text, "Results and discussions$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
remove(wip)
View(df)
View(df)
df.tables <- df[c(150:229, 236-315, 322-401, 408-487, 494-524, 633-705, 708-765)]
df.tables <- df[c(150:229, 236:315, 322:401, 408:487, 494:524, 633:705, 708:765)]
df.tables <- df[df, c(150:229, 236:315, 322:401, 408:487, 494:524, 633:705, 708:765)]
View(df)
View(df)
df.tables <- df[-c(1:149, 130:235, 316:321, 402:407, 488:493, 525:632, 706:707, 766:933)]
View(df.tables)
df <- pdf_text("PDFs/Qian_et_al_2022_Comparative_study_of_volatile_composition_of_major_Northern_Highbush_blueberry_Vaccinium_corymbosum_vari.pdf") %>%
read_lines()
df.tables <- df [-c(1:149, 130:235, 316:321, 402:407, 488:493, 525:632, 706:707, 766:933)]
#testing
df1 <- raw2 %>%
mutate(SectionID = case_when(
str_detect(text, "^Table ") ~ "TablesFigures",
str_detect(text, "^Fig. ") ~ "TablesFigures",
str_detect(text, "^Figure ") ~ "TablesFigures",
str_detect(text, "METHODS$") ~ "MaterialsMethods",
str_detect(text, "Materials and methods$") ~ "MaterialsMethods",
str_detect(text, "Methods and materials$") ~ "MaterialsMethods",
str_detect(text, "Results$") ~ "Results",
str_detect(text, "Results and discussion$") ~ "Results",
str_detect(text, "Results and discussions$") ~ "Results",
TRUE ~ "NA")) %>%
fill(SectionID)
df.tables
install.packages("remotes")
library(remotes)
install_github("elizagrames/litsearchr", ref = "main")
install.packages("metaDigitise")
library(metaDigitise)
install.packages("fulltext", "pubchunks")
install.packages("fulltext")
install.packages("pubchunks")
library(pubchunks)
install.packages("fulltext")
remotes::install_github("ropensci/fulltext")
library(fulltext)
key =  d35db8b36f9daa0bf919e69e06177c7d
key <-  d35db8b36f9daa0bf919e69e06177c7d
key <-  "d35db8b36f9daa0bf919e69e06177c7d"
t1 <- ft_get('10.1073/pnas.2115865119')
pub_chunks(ft_collect(t1), sections = "authors")
t1 <- ft_get('10.1016/j.jfca.2022.104412')
pub_chunks(ft_collect(t1), sections = "authors")
pub_chunks(t1, "title")
pub_chunks(t1, c("title", "doi", "authors")
pub_chunks(t1, c("title", "doi", "authors"))
t1 %>%
ft_collect() %>%
pub_chunks("authors")
t1 <- ft_get('10.1002/leap.1142')
t1 %>%
ft_collect() %>%
pub_chunks("authors")
t1 <- ft_get('10.1002/leap.1142', type = "xml")
t1 %>%
ft_collect() %>%
pub_chunks("authors")
View(t1)
View(t1)
t1 %>%
ft_extract()
t1 %>%
ft_collect()
t1 <- ft_get('10.1371/journal.pone.0138494')
t1 %>%
pub_chunks(sections = "all")
View(t1)
t1 <- ft_get('10.1371/journal.pone.0138494', type = "xml", from = "plos")
t1 <- ft_get('10.1371/journal.pone.0138494', type = "xml")
t1[["wiley"]][["errors"]][["error"]]
set.sentenv(ELSEVIER_TDM_KEY = "d35db8b36f9daa0bf919e69e06177c7d")
sys.setenv(ELSEVIER_TDM_KEY = "d35db8b36f9daa0bf919e69e06177c7d")
Sys.setenv(ELSEVIER_TDM_KEY = "d35db8b36f9daa0bf919e69e06177c7d")
ft_get(x = "10.1016/j.jfca.2022.104412", from = "elsevier", type = "xml")
ft_get(x = "10.1016/j.jfca.2022.104412", from = "elsevier", type = "xml", elsevieropts = list(retain_non_ft = TRUE))
t1 <- ft_get(x = "10.1016/j.jfca.2022.104412", from = "elsevier", type = "xml", elsevieropts = list(retain_non_ft = TRUE))
View(t1)
View(t1)
t1 <- ft_get('10.1371/journal.pone.0138494', type = "xml")
t1 %>%
pub_chunks(sections = "authors")
View(t1)
Sys.setenv(ELSEVIER_TDM_KEY = "d35db8b36f9daa0bf919e69e06177c7d")
t2 <- ft_get(x = "10.1016/j.jfca.2022.104412", from = "elsevier", type = "xml", elsevieropts = list(retain_non_ft = TRUE))
View(t2)
remove.packages("pubchunks", lib="~/R/win-library/4.1")
remove.packages("fulltext", lib="~/R/win-library/4.1")
install.packages("pubchunks")
remotes::install_github("ropensci/fulltext")
source("https://install-github.me/r-lib/rlang")
